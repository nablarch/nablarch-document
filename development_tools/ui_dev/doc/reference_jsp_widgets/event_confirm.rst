===================================================
確認ダイアログ表示イベントアクション
===================================================
:doc:`event_confirm` は :doc:`event_listen` で定義したイベントが発生した際に
確認ダイアログを表示させるイベントアクションである。

このアクションが表示したダイアログで **「キャンセル」** を選択した場合は、
イベントのプロパゲーションおよびデフォルトアクションの発生を抑止する。
また、発生元のイベントが **change** イベントであった場合、
その変更内容をもとの入力内容に戻す。

一方、ダイアログで **「OK 」** を選択した場合は、イベントプロパゲーションを継続し、
他のイベントハンドラでキャンセルされなければ最終的にデフォルトアクションを実行する。


ダイアログはブラウザのネイティブ部品を使用するので、その表示はクライアント環境
およびブラウザに依存し、CSSによる見た目の制御やタイトル文字列の変更等はできない。


コードサンプル
==================================

**プルダウンで特定の項目を選択した場合に確認のダイアログを表示する例する例**

  .. code-block:: jsp

       <event:listen event="select.amount change">
         <event:confirm
           message="この商品の注文をキャンセルしますがよろしいですか？"
           condition=":is-blank">
         </event:confirm>
       </event:listen>


仕様
=============================================

**属性値一覧**  [**◎** 必須属性 **○** 任意属性 **×** 無効(指定しても効果なし)]

========================= ================================ ============== ========== ========= ================================
名称                      内容                             タイプ         サーバ     ローカル  備考
========================= ================================ ============== ========== ========= ================================
title                     処理内容の簡単な説明             文字列         ×          ×         設計書表示用

message                   ダイアログに表示する文言         文字列         ◎          ◎

condition                 ダイアログを表示させる条件       文字列         ○          ○         省略した場合は必ず表示される
                          を表すセレクタ式

target                    condition属性で指定した\         文字列         ○          ○         省略した場合はイベントが\
                          条件判定の対象となる要素を\                                          発生した要素
                          表すセレクタ式

stop                      ダイアログキャンセル時に         真偽値         ○          ○         デフォルトは'true'
                          イベントのプロパゲーション
                          およびデフォルトアクションを                                           .. tip::
                          抑制するかどうか。
                                                                                                   本属性はローカルでの動作に制約がある。 |br|
                                                                                                   詳細は、
                                                                                                   :ref:`event:confirmタグの制約事項 <localrendering-limitation-eventconfirmtag>`
                                                                                                   を参照。　
revert                    ダイアログキャンセル時に         真偽値         ○          ○         changeイベント発生時のみ
                          各入力値の状態をイベント発生前                                       意味をもつ。
                          の状態に戻すかどうか。                                               デフォルトは'true'

========================= ================================ ============== ========== ========= ================================



内部構造・改修時の留意点
============================================

**部品一覧**

============================================== =====================================================
パス                                           内容
============================================== =====================================================
/WEB-INF/tags/widget/event/confirm.tag         このイベントアクションの実体となるタグファイル

/WEB-INF/tags/widget/event/dialog.tag          :doc:`event_alert` と :doc:`event_confirm` |br|
                                               とで共通の内容を実装するタグファイル。

/js/nablarch/ui/event/ShowDialogAction.js      ダイアログ表示機能を実装するJS部品。

============================================== =====================================================

.. |br| raw:: html

  <br />

