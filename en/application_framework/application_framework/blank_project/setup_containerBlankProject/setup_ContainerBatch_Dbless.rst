-----------------------------------------------------------------------------
Initial Setup of Nablarch batch Project for Container without DB connection
-----------------------------------------------------------------------------

The following is procedures of initial setup of the Nablarch batch project for container without DB connection:

* Generating Nablarch batch project for container without DB connection
* Confirm communications of Nablarch batch project without DB connection
* Create a container image
* Run Container Image


Overview of the generated project
----------------------------------------------------------

The overview of the project generated by this procedure is as follows.

.. list-table::
  :header-rows: 1
  :class: white-space-normal
  :widths: 8,20

  * - Item
    - Description
  * - Project type
    - Maven project
  * - Project composition
    - Single project composition
  * - What is included in the generated project?
    - The following is included in the generated project:

      * Basic configuration for the Nablarch batch application
      * On-demand batch application for communication confirmation
      * Initial configuration of the tool that operates in conjunction with Maven (is imported by referring to :ref:`about_maven_parent_module`).


For relationship with other projects and directories, see :doc:`../MavenModuleStructures/index`.

.. _firstStepGenerateContainerBatchDblessBlankProject:

Create blank project
----------------------------------------------------------

Generate a blank project using the archetypes provided by Nablarch.


Execute the mvn command
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Use `Maven Archetype Plugin(external site) <https://maven.apache.org/archetype/maven-archetype-plugin/usage.html>`_ to generate a blank project.

Change the current directory to the directory where the blank project (can be any directory) is to be created.

Execute the following command.

.. code-block:: bat

  mvn archetype:generate -DarchetypeGroupId=com.nablarch.archetype -DarchetypeArtifactId=nablarch-container-batch-dbless-archetype -DarchetypeVersion={nablarch_version}

The version of Nablarch used in the above command is |nablarch_version|. If you want to change the version, change the following parameters.

.. list-table::
  :header-rows: 1
  :class: white-space-normal
  :widths: 6,20

  * - Set value
    - Description
  * - archetypeVersion
    - Specify the version of the archetype you wish to use. (Nablarch 6u2 or later must be specified)

Enter project information
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

When the above command is executed, you will be asked to enter the following information about the blank project to be generated.

=========== ================================================= =======================
Input item  Description                                       Configuration example
=========== ================================================= =======================
groupId      Group ID (normally, enter the package name)      ``com.example``
artifactId   Artifact ID                                      ``myapp-container-batch-dbless``
version      Version number                                   ``0.1.0``
package      Package (normally the same as group ID)          ``com.example``
=========== ================================================= =======================

.. important::
   Item groupId and package are mapped to the Java package name.
   Use lowercase letters, numbers, and dots for these input values, and do not use hyphens.

When you have finished entering project information, Y: : will appear.

 * Enter 「Y」 if you want to generate a template based on the information you have entered.
 * Enter 「N」 if you wish to redo the project information entry.

If the command ends normally, a blank project is created under the current directory.

.. _firstStepContainerBatchDblessStartupTest:

Communication confirmation
-------------------------------------------

The communication confirmation mechanism and procedures are the same as for a normal Nablarch batch project without DB connection. Thus, see :ref:`Initial Setup of the Nablarch Batch Project without DB connection <firstStepDblessBatchStartupTest>`.

.. note::

  The artifact ID should be replaced with ``myapp-container-batch-dbless`` to specify the directory and command.


.. _firstStepBuildContainerBatchDblessDockerImage:

Create a container image
----------------------------------

The procedure for creating a container image is the same as for a normal Nablarch batch project for container. Thus, see :ref:`Create a container image of the Nablarch Batch Project for Container <firstStepBuildContainerBatchDockerImage>`.

.. note::

  The artifact ID should be replaced with ``myapp-container-batch-dbless`` to specify the directory and command.


.. _firstStepRunContainerBatchDblessDockerImage:

Run a container image
----------------------------------

The procedure to run a container image is the same as for a normal Nablarch batch project for container. Thus, see :ref:`Run a container image of the Nablarch Batch Project for Container <firstStepRunContainerBatchDockerImage>`.

.. note::

  The artifact ID should be replaced with ``myapp-container-batch-dbless`` to specify the directory and command.
  Also, in the Nablarch batch project for container without DB connection, only on-demand batch can be executed.
