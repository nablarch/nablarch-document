=================================================
コード値プルダウン入力項目ウィジェット
=================================================
:doc:`field_code_pulldown` は :doc:`field_pulldown` について
Nablarchのコード管理機能で取得したラベル、値をもとにした
プルダウンリストを出力できるように改修したものである。

表示仕様など、上記以外の仕様については :doc:`field_pulldown` と同じである。

コードサンプル
==================================

**設計成果物(ローカル動作)**

  .. code-block:: jsp

    <field:code_pulldown
      title            = "ユーザIDロック">
    </field:code_pulldown>


**実装成果物(サーバ動作)**

  .. code-block:: jsp

    <field:code_pulldown
      title            = "ユーザIDロック"
      name             = "11AC_W11AC01.userIdLocked"
      codeId           = "C0000001"
      pattern          = "PATTERN01"
      optionColumnName = "OPTION01"
      labelPattern     = "$OPTIONALNAME$">
    </field:code_pulldown>



仕様
=============================================
本ウィジェットの仕様は :doc:`field_pulldown` とほぼ同じである。
以下では差分となる内容について述べる。

**ローカル動作時の挙動**
  :doc:`field_pulldown` と同様、 **sample** に指定した項目を選択候補とするプルダウンリストを表示する。
  ただし、**codeId** 属性にコードIDを指定した場合、下記のファイル内のエントリーから、
  該当するコードの名称を取得し、表示する。 **pattern** 属性によるパターン指定や
  **optionColumnName** 属性によるオプション名称指定も利用できる。
  (**codeId** と **sample** を両方指定した場合は **sample** の値を優先する。)

  **パス**
    /js/devtool/resource/コード値定義.js


**属性値一覧**  [**◎** 必須属性 **○** 任意属性 **×** 無効(指定しても効果なし)]

(:doc:`field_base` との共通属性は省略)

==================== ============================== ============== ========== ========= ================================
名称                 内容                           タイプ         サーバ     ローカル  備考
==================== ============================== ============== ========== ========= ================================
id                   HTMLのid属性値                 文字列         ○          ○           デフォルトでは **name** 属性値
                                                                                          と同じ値。
domain               項目のドメイン型               文字列         ○          ○
readonly             編集可能かどうか               真偽値         ○          ○         デフォルトは 'false'
disabled             サーバに対する入力値の送信を   真偽値         ○          ○         デフォルトは 'false'
                     抑制するかどうか
cssClass             HTMLのclass属性値              文字列         ○          ○
nameAlias            一つのエラーメッセージに       文字列         ○          ×
                     対して複数の入力項目を
                     ハイライト表示する場合に
                     そのname属性をカンマ区切り
                     で指定する。
sample               ローカル動作時に表示する       文字列         ×          ○           **"|"** 区切りで複数指定する。
                     プルダウンのラベル                                                   **"[]"** で囲われた項目は選択状態
                                                                                          で表示される。
codeId               コード定義ID                   文字列         ◎          ○
pattern              使用するコードパターンの       文字列         ○          ○         デフォルトは 'PATTERN01'
                     カラム名
optionColumnName     取得するオプション名称の       文字列         ○          ○         デフォルトは 'OPTION01'
                     カラム名
labelPattern         ラベル表示書式                 文字列         ○          ○           ラベルを整形するパターン。
                                                                                          プレースホルダを下記に示す。
                                                                                          $NAME$:
                                                                                          コード値に対応するコード名称
                                                                                          $SHORTNAME$:
                                                                                          コード値に対応するコードの略称
                                                                                          $OPTIONALNAME$:
                                                                                          コード値に対応するコードのオプション名称
                                                                                          $OPTIONALNAME$を使用する場合は
                                                                                          optionColumnName属性の指定が必須となる。
                                                                                          $VALUE$: コード値
                                                                                          デフォルトは”$NAME$”。
withNoneOption       リスト先頭に選択なしの         真偽値         ○          ○         デフォルトは 'false'
                     オプションを追加するか
                     否か。
multiple             xhtmlのmultiple属性            真偽値         ○          ○
size                 xhtmlのsize属性                数値           ○          ○
dataFrom             表示するデータの取得元         文字列         ×          ×           画面項目定義に記載する、
                                                                                          「表示情報取得元」.「表示項目名」
                                                                                          の形式で設定する。
comment              プルダウンについての備考       文字列         ×          ×           設計書の表示時に、
                                                                                          画面項目定義の項目定義一覧で、
                                                                                          「備考」に表示される。
initialValueDesc     初期表示内容に関する説明       文字列         ×          ×           設計書の表示時に、
                                                                                          画面項目定義の項目定義一覧で、
                                                                                          「備考」に表示される。
==================== ============================== ============== ========== ========= ================================


内部構造・改修時の留意点
============================================

**部品一覧**

============================================== =========================================================
パス                                           内容
============================================== =========================================================
/WEB-INF/tags/widget/field/code_pulldown.tag   :doc:`field_code_pulldown`

/WEB-INF/tags/widget/field/base.tag            :doc:`field_base`

/js/jsp/taglib/nablarch.js                     `<n:codeSelect>` のエミュレーション機能を実装する
                                               タグライブラリスタブJS

/css/style/base.less                           基本HTMLの要素のスタイル定義。|br|
                                               プルダウンに関する定義もここに含まれる。

============================================== =========================================================

.. |br| raw:: html

  <br />
